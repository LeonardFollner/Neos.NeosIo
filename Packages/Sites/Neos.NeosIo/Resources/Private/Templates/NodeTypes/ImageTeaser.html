{namespace neos=TYPO3\Neos\ViewHelpers}
{namespace media=TYPO3\Media\ViewHelpers}

<f:if condition="{link}">
	<f:then>
		<f:if condition="{neos:rendering.inBackend()}">
			<f:then>
				<div class="imageTeaser">
					<f:render section="contents" arguments="{_all}" />
				</div>
			</f:then>
			<f:else>
				<a href="{link}"  class="imageTeaser">
					<f:render section="contents" arguments="{_all}" />
				</a>
			</f:else>
		</f:if>
	</f:then>
	<f:else>
		<div class="imageTeaser">
			<f:render section="contents" arguments="{_all}" />
		</div>
	</f:else>
</f:if>

<f:section name="contents">
	<f:if condition="{image}">
		<f:then>
			<media:image
				class="imageTeaser__image"
				asset="{image}"
				title="{title}"
				alt="{alternativeText}"
				maximumWidth="700c"
				maximumHeight="450c"
				allowUpScaling="{allowUpScaling}" />
		</f:then>
		<f:else>
			<f:if condition="{neos:rendering.inEditMode()}">
				<img
					class="imageTeaser__image neos-handle"
					src="{f:uri.resource(package: 'TYPO3.Neos', path: 'Images/dummy-image.svg')}"
					title="Dummy image"
					alt="Dummy image" />
			</f:if>
		</f:else>
	</f:if>

	<div class="imageTeaser__contents u-invertText">
		<h5 class="imageTeaser__contents__subHeading">{neos:contentElement.editable(property: 'subTitle', tag: 'span')}</h5>
		<h3 class="imageTeaser__contents__heading">{neos:contentElement.editable(property: 'title', tag: 'span')}</h3>
	</div>
</f:section>
